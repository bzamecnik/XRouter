<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <components>
    <gateway name="gateway1">
      <adapters>
        <adapter name="floodConsumerWebService" type="httpServiceAdapter">
          <AdapterConfiguration xmlns:i="http://www.w3.org/2001/XMLSchema-instance" z:Id="1" xmlns:z="http://schemas.microsoft.com/2003/10/Serialization/" xmlns="http://schemas.datacontract.org/2004/07/XRouter.Common">
            <AdapterName z:Id="2">floodConsumerWebService</AdapterName>
            <AdapterTypeName z:Id="3">httpServiceAdapter</AdapterTypeName>
            <Configuration z:Id="4">
              <XmlContent z:Id="5">&lt;objectConfig&gt;
                            &lt;item name='Uri'&gt;http://localhost:8123/FloodConsumerWebService/&lt;/item&gt;
                            &lt;item name='AreInputTokensPersistent'&gt;False&lt;/item&gt;
                            &lt;/objectConfig&gt;</XmlContent>
            </Configuration>
          </AdapterConfiguration>
        </adapter>
      </adapters>
    </gateway>
    <processor name="processor1" concurrent-threads="4"></processor>
  </components>
  <dispatcher nonrunning-processor-response-timeout="60"></dispatcher>
  <adapter-types>
    <adapter-type name="directoryAdapter" clr-type="XRouter.Adapters.DirectoryAdapter,XRouter.Adapters.dll" />
    <adapter-type name="emailSenderAdapter" clr-type="XRouter.Adapters.EmailClientAdapter,XRouter.Adapters.dll" />
    <adapter-type name="httpClientAdapter" clr-type="XRouter.Adapters.HttpClientAdapter,XRouter.Adapters.dll" />
    <adapter-type name="httpServiceAdapter" clr-type="XRouter.Adapters.HttpServiceAdapter,XRouter.Adapters.dll" />
  </adapter-types>
  <action-types></action-types>
  <messageflows current="bcf9e0dd-818d-492c-84b6-4c27ca668221">
    <messageflow guid="bcf9e0dd-818d-492c-84b6-4c27ca668221" name="abc" version="1"></messageflow>
  </messageflows>
  <xml-resource-storage>
    <item name="schematron_sample1_detection">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xpath">
        <pattern>
          <rule context="/">
            <assert test="message" />
          </rule>
          <rule context="/message/a|/message/b|/message/c">
            <assert test="true()" />
          </rule>
          <rule context="item">
            <assert test="false()" />
          </rule>
          <!--
                <rule context='*'>
                  <assert test='false()'/>
                </rule>
              -->
        </pattern>
      </schema>
    </item>
    <item name="schematron_sample1_contains_A">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xpath">
        <pattern>
          <rule context="/message">
            <assert test="a" />
          </rule>
        </pattern>
      </schema>
    </item>
    <item name="schematron_sample1_contains_B">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xpath">
        <pattern>
          <rule context="/message">
            <assert test="b" />
          </rule>
        </pattern>
      </schema>
    </item>
    <item name="schematron_sample1_contains_C">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xpath">
        <pattern>
          <rule context="/message">
            <assert test="c" />
          </rule>
        </pattern>
      </schema>
    </item>
    <item name="schematron_sample2_detection">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron">
        <pattern>
          <rule context="/">
            <assert test="message" />
          </rule>
          <rule context="/message/item">
            <assert test="true()" />
          </rule>
          <!--
                <rule context='*'>
                  <assert test='false()'/>
                </rule>
              -->
        </pattern>
      </schema>
    </item>
    <item name="schematron_sample2_targetA">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xpath">
        <pattern>
          <rule context="/message">
            <assert test="10&gt;sum(item/@price) and sum(item/@price)&gt;=0" />
          </rule>
        </pattern>
      </schema>
    </item>
    <item name="schematron_sample2_targetB">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xpath">
        <pattern>
          <rule context="/message">
            <assert test="20&gt;sum(item/@price) and sum(item/@price)&gt;=10" />
          </rule>
        </pattern>
      </schema>
    </item>
    <item name="schematron_sample2_targetC">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xpath">
        <pattern>
          <rule context="/message">
            <assert test="30&gt;sum(item/@price) and sum(item/@price)&gt;=20" />
          </rule>
        </pattern>
      </schema>
    </item>
    <item name="schematron_sample3_detection">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xpath">
        <ns prefix="S" uri="http://www.w3.org/2003/05/soap-envelope" />
        <pattern>
          <rule context="/">
            <assert test="S:Envelope" />
          </rule>
        </pattern>
      </schema>
    </item>
    <item name="schematron_sample3_targetA">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xpath">
        <ns prefix="S" uri="http://www.w3.org/2003/05/soap-envelope" />
        <ns prefix="wsa" uri="http://www.w3.org/2005/08/addressing" />
        <pattern>
          <rule context="/S:Envelope/S:Header/wsa:To">
            <assert test=".='OutA'" />
          </rule>
        </pattern>
      </schema>
    </item>
    <item name="schematron_sample3_targetB">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xpath">
        <ns prefix="S" uri="http://www.w3.org/2003/05/soap-envelope" />
        <ns prefix="wsa" uri="http://www.w3.org/2005/08/addressing" />
        <pattern>
          <rule context="/S:Envelope/S:Header/wsa:To">
            <assert test=".='OutB'" />
          </rule>
        </pattern>
      </schema>
    </item>
    <item name="schematron_sample3_targetC">
      <schema xmlns="http://purl.oclc.org/dsdl/schematron" queryBinding="xpath">
        <ns prefix="S" uri="http://www.w3.org/2003/05/soap-envelope" />
        <ns prefix="wsa" uri="http://www.w3.org/2005/08/addressing" />
        <pattern>
          <rule context="/S:Envelope/S:Header/wsa:To">
            <assert test=".='OutC'" />
          </rule>
        </pattern>
      </schema>
    </item>
    <item name="xslt_sample3">
      <xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:S="http://www.w3.org/2003/05/soap-envelope">
        <xsl:template match="node()|@*">
          <xsl:copy>
            <xsl:apply-templates select="node()|@*" />
          </xsl:copy>
        </xsl:template>
        <xsl:template match="S:Header" />
      </xsl:stylesheet>
    </item>
  </xml-resource-storage>
</configuration>